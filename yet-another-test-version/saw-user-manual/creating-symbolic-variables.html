

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Creating Symbolic Variables &mdash; SAW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/sphinx_rtd_theme.css?v=3234e928" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/js/hoverxref.js"></script>
      <script src="../_static/js/tooltipster.bundle.min.js"></script>
      <script src="../_static/js/micromodal.min.js"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../_static/versions.js?v=302bdcf2"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Symbolic Execution" href="symbolic-execution.html" />
    <link rel="prev" title="Analyzing Hardware Circuits using Yosys" href="analyzing-hardware-circuits-using-yosys.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SAW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../llvm-java-verification-with-saw/index.html">LLVM/Java Verification with SAW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust-verification-with-saw/index.html">Rust Verification with SAW</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">SAW User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure-of-sawscript.html">Structure of SAWScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="invoking-saw.html">Invoking SAW</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryptol-and-its-role-in-saw.html">Cryptol and its Role in SAW</a></li>
<li class="toctree-l2"><a class="reference internal" href="loading-code.html">Loading Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyzing-hardware-circuits-using-yosys.html">Analyzing Hardware Circuits using Yosys</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Creating Symbolic Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="symbolic-execution.html">Symbolic Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="symbolic-termination.html">Symbolic Termination</a></li>
<li class="toctree-l2"><a class="reference internal" href="the-term-type.html">The Term Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="specification-based-verification.html">Specification-Based Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="bisimulation-prover.html">Bisimulation Prover</a></li>
<li class="toctree-l2"><a class="reference internal" href="transforming-term-values.html">Transforming Term Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="proofs-about-terms.html">Proofs about Terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="extraction-to-the-coq-theorem-prover.html">Extraction to the Coq theorem prover</a></li>
<li class="toctree-l2"><a class="reference internal" href="formal-deprecation-process.html">Formal Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendices/index.html">Appendices</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SAW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">SAW User Manual</a></li>
      <li class="breadcrumb-item active">Creating Symbolic Variables</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/saw-user-manual/creating-symbolic-variables.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="creating-symbolic-variables">
<h1>Creating Symbolic Variables<a class="headerlink" href="#creating-symbolic-variables" title="Link to this heading">ÔÉÅ</a></h1>
<p>The direct extraction process discussed previously introduces
symbolic variables and then abstracts over them, yielding a SAWScript
<code class="docutils literal notranslate"><span class="pre">Term</span></code> that reflects the semantics of the original Java, LLVM, or MIR code.
For simple functions, this is often the most convenient interface. For
more complex code, however, it can be necessary (or more natural) to
specifically introduce fresh variables and indicate what portions of the
program state they correspond to.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fresh_symbolic</span> <span class="pre">:</span> <span class="pre">String</span> <span class="pre">-&gt;</span> <span class="pre">Type</span> <span class="pre">-&gt;</span> <span class="pre">TopLevel</span> <span class="pre">Term</span></code> is responsible for
creating new variables in this context. The first argument is a name
used for pretty-printing of terms and counter-examples. In many cases it
makes sense for this to be the same as the name used within SAWScript,
as in the following:</p></li>
</ul>
<div class="highlight-sawscript notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fresh_symbolic</span><span class="w"> </span><span class="s2">&quot;x&quot;</span><span class="w"> </span><span class="n">ty</span><span class="p">;</span>
</pre></div>
</div>
<p>However, using the same name is not required.</p>
<p>The second argument to <code class="docutils literal notranslate"><span class="pre">fresh_symbolic</span></code> is the type of the fresh
variable. Ultimately, this will be a SAWCore type; however, it is usually
convenient to specify it using Cryptol syntax with the type quoting
brackets <code class="docutils literal notranslate"><span class="pre">{|</span></code> and <code class="docutils literal notranslate"><span class="pre">|}</span></code>. For example, creating a 32-bit integer, as
might be used to represent a Java <code class="docutils literal notranslate"><span class="pre">int</span></code> or an LLVM <code class="docutils literal notranslate"><span class="pre">i32</span></code>, can be done as
follows:</p>
<div class="highlight-sawscript notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fresh_symbolic</span><span class="w"> </span><span class="s2">&quot;x&quot;</span><span class="w"> </span><span class="l">{|</span><span class="w"> </span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="w"> </span><span class="l">|}</span><span class="p">;</span>
</pre></div>
</div>
<p>Although symbolic execution works best on symbolic variables, which are
‚Äúunbound‚Äù or ‚Äúfree‚Äù, most of the proof infrastructure within SAW uses
variables that are <em>bound</em> by an enclosing lambda expression. Given a
<code class="docutils literal notranslate"><span class="pre">Term</span></code> with free symbolic variables, we can construct a lambda term that
binds them in several ways.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">abstract_symbolic</span> <span class="pre">:</span> <span class="pre">Term</span> <span class="pre">-&gt;</span> <span class="pre">Term</span></code> finds all symbolic variables in the
<code class="docutils literal notranslate"><span class="pre">Term</span></code> and constructs a lambda expression binding each one, in some
order. The result is a function of some number of arguments, one for
each symbolic variable. It is the simplest but least flexible way to
bind symbolic variables.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sawscript&gt; x &lt;- fresh_symbolic &quot;x&quot; {| [8] |}</span>
<span class="go">sawscript&gt; let t = {{ x + x }}</span>
<span class="go">sawscript&gt; print_term t</span>
<span class="go">let { x@1 = Prelude.Vec 8 Prelude.Bool</span>
<span class="go">    }</span>
<span class="go"> in Cryptol.ecPlus x@1 (Cryptol.PArithSeqBool (Cryptol.TCNum 8))</span>
<span class="go">      x</span>
<span class="go">      x</span>
<span class="go">sawscript&gt; let f = abstract_symbolic t</span>
<span class="go">sawscript&gt; print_term f</span>
<span class="go">let { x@1 = Prelude.Vec 8 Prelude.Bool</span>
<span class="go">    }</span>
<span class="go"> in \(x : x@1) -&gt;</span>
<span class="go">      Cryptol.ecPlus x@1 (Cryptol.PArithSeqBool (Cryptol.TCNum 8)) x x</span>
</pre></div>
</div>
<p>If there are multiple symbolic variables in the <code class="docutils literal notranslate"><span class="pre">Term</span></code> passed to
<code class="docutils literal notranslate"><span class="pre">abstract_symbolic</span></code>, the ordering of parameters can be hard to predict.
In some cases (such as when a proof is the immediate next step, and it‚Äôs
expected to succeed) the order isn‚Äôt important. In others, it‚Äôs nice to
have more control over the order.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">:</span> <span class="pre">Term</span> <span class="pre">-&gt;</span> <span class="pre">Term</span> <span class="pre">-&gt;</span> <span class="pre">Term</span></code> is the building block for controlled
binding. It takes two terms: the one to transform, and the portion of
the term to abstract over. Generally, the first <code class="docutils literal notranslate"><span class="pre">Term</span></code> is one obtained
from <code class="docutils literal notranslate"><span class="pre">fresh_symbolic</span></code> and the second is a <code class="docutils literal notranslate"><span class="pre">Term</span></code> that would be passed to
<code class="docutils literal notranslate"><span class="pre">abstract_symbolic</span></code>.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sawscript&gt; let f = lambda x t</span>
<span class="go">sawscript&gt; print_term f</span>
<span class="go">let { x@1 = Prelude.Vec 8 Prelude.Bool</span>
<span class="go">    }</span>
<span class="go"> in \(x : x@1) -&gt;</span>
<span class="go">      Cryptol.ecPlus x@1 (Cryptol.PArithSeqBool (Cryptol.TCNum 8)) x x</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lambdas</span> <span class="pre">:</span> <span class="pre">[Term]</span> <span class="pre">-&gt;</span> <span class="pre">Term</span> <span class="pre">-&gt;</span> <span class="pre">Term</span></code> allows you to list the order in which
symbolic variables should be bound. Consider, for example, a <code class="docutils literal notranslate"><span class="pre">Term</span></code>
which adds two symbolic variables:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sawscript&gt; x1 &lt;- fresh_symbolic &quot;x1&quot; {| [8] |}</span>
<span class="go">sawscript&gt; x2 &lt;- fresh_symbolic &quot;x2&quot; {| [8] |}</span>
<span class="go">sawscript&gt; let t = {{ x1 + x2 }}</span>
<span class="go">sawscript&gt; print_term t</span>
<span class="go">let { x@1 = Prelude.Vec 8 Prelude.Bool</span>
<span class="go">    }</span>
<span class="go"> in Cryptol.ecPlus x@1 (Cryptol.PArithSeqBool (Cryptol.TCNum 8))</span>
<span class="go">      x1</span>
<span class="go">      x2</span>
</pre></div>
</div>
<p>We can turn <code class="docutils literal notranslate"><span class="pre">t</span></code> into a function that takes <code class="docutils literal notranslate"><span class="pre">x1</span></code> followed by <code class="docutils literal notranslate"><span class="pre">x2</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sawscript&gt; let f1 = lambdas [x1, x2] t</span>
<span class="go">sawscript&gt; print_term f1</span>
<span class="go">let { x@1 = Prelude.Vec 8 Prelude.Bool</span>
<span class="go">    }</span>
<span class="go"> in \(x1 : x@1) -&gt;</span>
<span class="go">      \(x2 : x@1) -&gt;</span>
<span class="go">        Cryptol.ecPlus x@1 (Cryptol.PArithSeqBool (Cryptol.TCNum 8)) x1</span>
<span class="go">          x2</span>
</pre></div>
</div>
<p>Or we can turn <code class="docutils literal notranslate"><span class="pre">t</span></code> into a function that takes <code class="docutils literal notranslate"><span class="pre">x2</span></code> followed by <code class="docutils literal notranslate"><span class="pre">x1</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sawscript&gt; let f1 = lambdas [x2, x1] t</span>
<span class="go">sawscript&gt; print_term f1</span>
<span class="go">let { x@1 = Prelude.Vec 8 Prelude.Bool</span>
<span class="go">    }</span>
<span class="go"> in \(x2 : x@1) -&gt;</span>
<span class="go">      \(x1 : x@1) -&gt;</span>
<span class="go">        Cryptol.ecPlus x@1 (Cryptol.PArithSeqBool (Cryptol.TCNum 8)) x1</span>
<span class="go">          x2</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="analyzing-hardware-circuits-using-yosys.html" class="btn btn-neutral float-left" title="Analyzing Hardware Circuits using Yosys" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="symbolic-execution.html" class="btn btn-neutral float-right" title="Symbolic Execution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Galois, Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Adapted from: -->
<!-- https://github.com/brechtm/rinohtype/commit/1270802c4959eb4742c51d3307222930ac73a80c -->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Versions</span>
      v: HEAD
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl id="docs-versions">
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>